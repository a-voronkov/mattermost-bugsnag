# Mattermost Bugsnag Integration Plugin ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

## 1. –¶–µ–ª–∏ –ø–ª–∞–≥–∏–Ω–∞

–ü–ª–∞–≥–∏–Ω –¥–ª—è Mattermost, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å Bugsnag, –¥–æ–ª–∂–µ–Ω:

1. –ü–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ Bugsnag —á–µ—Ä–µ–∑ API (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π API token).
2. –ü–æ–ª—É—á–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —á–µ—Ä–µ–∑ Bugsnag Webhook.
3. –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã Mattermost **–∫–∞—Ä—Ç–æ—á–∫–∏ –±–∞–≥–æ–≤** —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π.
4. –û–±–Ω–æ–≤–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –æ—à–∏–±–∫–∞–º:

   * —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å;
   * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –º–∏–Ω—É—Ç/—á–∞—Å–æ–≤;
   * –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏—è.
5. –í–µ—Å—Ç–∏ –≤ —Ç—Ä–µ–¥–∞—Ö –∫ —ç—Ç–∏–º –∫–∞—Ä—Ç–æ—á–∫–∞–º **–∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π** (—Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–æ–≤, reassignment, —Å–ø–∞–π–∫–∏ –∏ —Ç.–ø.).
6. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å **–º–∞–ø–ø–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** Bugsnag ‚Üî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Mattermost:

   * –¥–ª—è @mention –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö;
   * –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤ Bugsnag –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–æ–∫ –≤ Mattermost.
7. –ò–º–µ—Ç—å **UI –∞–¥–º–∏–Ω–∫–∏-–Ω–∞—Å—Ç—Ä–æ–µ–∫** –≤ System Console:

   * –≤–≤–æ–¥ Bugsnag API —Ç–æ–∫–µ–Ω–∞ / –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏;
   * –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤ Bugsnag –∏ –∫–∞–Ω–∞–ª–æ–≤ Mattermost;
   * –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π;
   * –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–ø–ø–∏–Ω–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### 2.1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **Server plugin (Go)**

   * HTTP endpoint –¥–ª—è –ø—Ä–∏–µ–º–∞ Webhook –æ—Ç Bugsnag: `/plugins/bugsnag/webhook`.
   * HTTP endpoint –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏ (interactive actions): `/plugins/bugsnag/actions`.
   * –ö–ª–∏–µ–Ω—Ç –¥–ª—è Bugsnag API (REST).
   * –†–∞–±–æ—Ç–∞ —Å Mattermost —á–µ—Ä–µ–∑ Plugin API:

     * —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤;
     * —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–¥–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤;
     * KV-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ (mappings, –∞–∫—Ç–∏–≤–Ω—ã–µ –æ—à–∏–±–∫–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è).
   * –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π scheduler (goroutine) –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∞–∫—Ç–∏–≤–Ω—ã–º –æ—à–∏–±–∫–∞–º.

2. **Webapp plugin (JS/TS/React)**

   * –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–ª–∞–≥–∏–Ω–∞ –≤ System Console ‚Üí Plugins ‚Üí Bugsnag Integration.
   * (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ UI-—ç–ª–µ–º–µ–Ω—Ç—ã:

     * –∫–Ω–æ–ø–∫–∞ –≤ channel header;
     * –ø—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å (RHS) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π –ø–æ –æ—à–∏–±–∫–µ/—Ñ–∏–ª—å—Ç—Ä–æ–≤.

3. **Bugsnag**

   * Webhook –Ω–∞ URL `https://<mattermost-host>/plugins/bugsnag/webhook?token=<secret>`.
   * Data Access API –∏ –¥—Ä—É–≥–∏–µ –ø—É–±–ª–∏—á–Ω—ã–µ API:

     * –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π/–ø—Ä–æ–µ–∫—Ç–æ–≤/–æ—à–∏–±–æ–∫;
     * —á—Ç–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ—à–∏–±–∫–µ;
     * –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞/assignee (–ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º endpoint‚Äô–∞–º);
     * –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–∫–æ–ª–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–æ–≤ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ).

---

## 3. –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 3.1. ¬´–°–ø–∞—Ä–∏–≤–∞–Ω–∏–µ¬ª –ø–ª–∞–≥–∏–Ω–∞ —Å Bugsnag

1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä Mattermost –∑–∞—Ö–æ–¥–∏—Ç –≤ System Console ‚Üí Plugins ‚Üí Bugsnag Integration.
2. –í–≤–æ–¥–∏—Ç:

   * Bugsnag API Token;
   * (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Organization ID.
3. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É **Test connection / Load projects**.
4. Server plugin:

   * –≤—ã–∑—ã–≤–∞–µ—Ç Bugsnag API (–ø–æ —Ç–æ–∫–µ–Ω—É) –∏ –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π/–ø—Ä–æ–µ–∫—Ç–æ–≤;
   * —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ (id, name, slug) –≤ KV.

### 3.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook –≤ Bugsnag

> –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ Webhook –≤ Bugsnag –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ UI
> (Project Settings ‚Üí Integrations ‚Üí Data forwarding ‚Üí Webhook).

–®–∞–≥–∏:

1. –ü–ª–∞–≥–∏–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç URL –≤–∏–¥–∞:
   `https://<mattermost-host>/plugins/bugsnag/webhook?token=<secret>`.
2. –í –∞–¥–º–∏–Ω–∫–µ –ø–ª–∞–≥–∏–Ω–∞ —ç—Ç–æ—Ç URL –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.
3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∫–æ–ø–∏—Ä—É–µ—Ç URL –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –µ–≥–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–Ω–∞—Å—Ç—Ä–æ–π–∫–µ Webhook‚Äô–∞ –≤ Bugsnag.
4. –í Bugsnag –≤–∫–ª—é—á–∞—é—Ç—Å—è –Ω—É–∂–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π (new error, spike, frequent error, reopened –∏ —Ç.–ø.).

### 3.3. –ù–æ–≤—ã–π –±–∞–≥ / –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ

1. Bugsnag —à–ª—ë—Ç POST –Ω–∞ `/plugins/bugsnag/webhook` —Å payload‚Äô–æ–º –æ—à–∏–±–∫–∏/—Å–æ–±—ã—Ç–∏—è.
2. Server plugin:

   * –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–π `token`;
   * –ø–∞—Ä—Å–∏—Ç payload: error_id, project_id, —Å—Ç–∞—Ç—É—Å, summary, counts, last_seen, environment –∏ —Ç.–¥.
3. –ü–æ `project_id` —á–∏—Ç–∞–µ—Ç –∏–∑ KV —Å–ø–∏—Å–æ–∫ **–∫–∞–Ω–∞–ª–æ–≤ Mattermost**, –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö –Ω–∞ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç:

   * —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ severity;
   * –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—é (prod, staging, dev);
   * –ø–æ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è (new, spike, reopened –∏ —Ç.–ø.).
4. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –∫–∞–Ω–∞–ª–∞:

   * –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É–∂–µ –ø–æ—Å—Ç –¥–ª—è `error_id` (–ø–æ KV-–º—ç–ø–ø–∏–Ω–≥—É `errorID+projectID ‚Üí postID`);
   * –µ—Å–ª–∏ –ø–æ—Å—Ç–∞ –Ω–µ—Ç:

     * —Å–æ–∑–¥–∞—ë—Ç **–Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É** –æ—à–∏–±–∫–∏ –≤ –∫–∞–Ω–∞–ª–µ;
     * —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤—è–∑—å `errorID+projectID ‚Üí postID, channelID`;
   * –µ—Å–ª–∏ –ø–æ—Å—Ç –µ—Å—Ç—å:

     * –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É (—Å—Ç–∞—Ç—É—Å, last_seen, —Å—á—ë—Ç—á–∏–∫–∏);
     * –¥–æ–±–∞–≤–ª—è–µ—Ç reply –≤ —Ç—Ä–µ–¥ (–∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π).

### 3.4. –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤ –∫–∞—Ä—Ç–æ—á–∫–µ

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´Assign to me¬ª, ¬´Resolve¬ª, ¬´Ignore¬ª).
2. Mattermost –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –Ω–∞ `/plugins/bugsnag/actions` —Å:

   * `user_id` (Mattermost);
   * `context` (action, error_id, project_id –∏ —Ç.–ø.).
3. Server plugin:

   * –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ `context` –¥–∞–Ω–Ω—ã–µ –æ–± –æ—à–∏–±–∫–µ;
   * –ø–æ `user_id` –ø–æ–ª—É—á–∞–µ—Ç email/–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Mattermost;
   * –ø–æ —Ç–∞–±–ª–∏—Ü–µ –º–∞–ø–ø–∏–Ω–≥–∞ –Ω–∞—Ö–æ–¥–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ Bugsnag-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ email –∏–ª–∏ ID).
4. –í—ã–∑—ã–≤–∞–µ—Ç Bugsnag API:

   * –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –æ—à–∏–±–∫–∏ (open / in-progress / fixed / ignored);
   * –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–µ–Ω—è–µ—Ç assignee –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ Bugsnag-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
5. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ Bugsnag:

   * –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (status, assigned to);
   * –¥–æ–±–∞–≤–ª—è–µ—Ç reply –≤ —Ç—Ä–µ–¥ –≤–∏–¥–∞:
     `@mm-user changed status to "In progress" and assigned to @mm-user`;
   * (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ephemeral-–æ—Ç–≤–µ—Ç –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä—É –¥–µ–π—Å—Ç–≤–∏—è.

### 3.5. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π sync —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

1. –ü–ª–∞–≥–∏–Ω —Ö—Ä–∞–Ω–∏—Ç —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, open/in-progress) –≤ KV:

   * `error_id, project_id, post_id, channel_id, last_synced_at`.
2. Scheduler (goroutine) —Ä–∞–∑ –≤ N –º–∏–Ω—É—Ç:

   * –æ–±—Ö–æ–¥–∏—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –æ—à–∏–±–∫–∏;
   * –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç Bugsnag API:

     * —Å—Ç–∞—Ç—É—Å;
     * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ X –º–∏–Ω—É—Ç/—á–∞—Å–æ–≤;
     * `last_seen`.
3. –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

   * –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –∫–∞—Ä—Ç–æ—á–∫–∏/attachment;
   * –ø—Ä–∏ –∑–Ω–∞—á–∏–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ç—Ä–µ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–∑–∫–∏–π —Ä–æ—Å—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏–π).

---

## 4. –§–æ—Ä–º–∞—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è

### 4.1. –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä –ø–æ—Å—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ:

> :rotating_light: **[BUG]** NullReferenceException in CheckoutController
> Project: `my-backend-api` ¬∑ Env: `production` ¬∑ Status: **Open**

Attachment —Å–æ–¥–µ—Ä–∂–∏—Ç:

* –ó–∞–≥–æ–ª–æ–≤–æ–∫: –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏.
* –°—Å—ã–ª–∫–∞ –Ω–∞ –æ—à–∏–±–∫—É –≤ Bugsnag.
* –¢–µ–∫—Å—Ç:

  * Environment
  * Severity
  * Release / version
  * –ö–æ–ª-–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (affected users)
  * Events –∑–∞ 1h / 24h
  * Last seen (UTC –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)
* Footer: `Bugsnag ‚Ä¢ <project-name>`

–ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π:

* `üôã Assign to me`
* `‚úÖ Resolve`
* `üôà Ignore`
* `üîó Open in Bugsnag`

### 4.2. –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π JSON payload (–ª–æ–≥–∏–∫–∞, –Ω–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥)

```json
{
  "channel_id": "<channel-id>",
  "message": ":rotating_light: **[BUG]** NullReferenceException in CheckoutController",
  "props": {
    "attachments": [
      {
        "fallback": "Bugsnag error",
        "title": "NullReferenceException: Object reference not set...",
        "title_link": "https://app.bugsnag.com/org/project/errors/ERROR_ID",
        "text": "Env: production | Severity: error | Users: 123 | Events (1h/24h): 5 / 42\nLast seen: 2025-11-28 10:23 UTC",
        "footer": "Bugsnag ‚Ä¢ my-backend-api",
        "actions": [
          {
            "id": "assign_me",
            "name": "üôã Assign to me",
            "type": "button",
            "style": "primary",
            "integration": {
              "url": "https://<mm-host>/plugins/bugsnag/actions",
              "context": {
                "action": "assign_me",
                "error_id": "ERROR_ID",
                "project_id": "PROJECT_ID"
              }
            }
          },
          {
            "id": "resolve",
            "name": "‚úÖ Resolve",
            "type": "button",
            "style": "primary",
            "integration": {
              "url": "https://<mm-host>/plugins/bugsnag/actions",
              "context": {
                "action": "resolve",
                "error_id": "ERROR_ID",
                "project_id": "PROJECT_ID"
              }
            }
          },
          {
            "id": "ignore",
            "name": "üôà Ignore",
            "type": "button",
            "style": "default",
            "integration": {
              "url": "https://<mm-host>/plugins/bugsnag/actions",
              "context": {
                "action": "ignore",
                "error_id": "ERROR_ID",
                "project_id": "PROJECT_ID"
              }
            }
          },
          {
            "id": "open",
            "name": "üîó Open in Bugsnag",
            "type": "button",
            "style": "link",
            "integration": {
              "url": "https://<mm-host>/plugins/bugsnag/actions",
              "context": {
                "action": "open_in_browser",
                "error_url": "https://app.bugsnag.com/org/project/errors/ERROR_ID"
              }
            }
          }
        ]
      }
    ]
  }
}
```

---

## 5. UI –∞–¥–º–∏–Ω–∫–∏ (System Console)

–ê–¥–º–∏–Ω–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –≤–∫–ª–∞–¥–∫–∏.

### 5.1. –í–∫–ª–∞–¥–∫–∞ **Connection**

–ü–æ–ª—è:

* **Bugsnag API Token** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ).
* **Organization ID** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ).
* –ö–Ω–æ–ø–∫–∞ **Test connection**:

  * –∑–∞–ø—Ä–æ—Å –∫ Bugsnag;
  * –≤—ã–≤–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ (OK / –æ—à–∏–±–∫–∞) –∏ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π).

### 5.2. –í–∫–ª–∞–¥–∫–∞ **Projects & Channels**

–§—É–Ω–∫—Ü–∏–∏:

* –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ Bugsnag (–ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ API).
* –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è:

  * Mattermost Team (dropdown).
  * Mattermost Channel (dropdown).
  * Environments (multi-select: prod, staging, dev –∏ —Ç.–¥.).
  * Severities (multi-select: error, warning, info).
  * –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ä–µ–ø–æ—Ä—Ç–∏–Ω–≥–∞ (checkbox‚Äô—ã: new error, spike, frequent, reopened –∏ —Ç.–ø.).

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```go
type ProjectChannelMapping struct {
    ProjectID    string
    ChannelID    string
    Environments []string
    Severities   []string
    Events       []string // "new_error", "spike", "reopened" ...
}
```

–ö–Ω–æ–ø–∫–∞ **Sync projects from Bugsnag**:

* –∑–∞–Ω–æ–≤–æ –≤—ã—Ç—è–≥–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ API;
* –æ–±–Ω–æ–≤–ª—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫, –Ω–µ –∑–∞—Ç–∏—Ä–∞—è —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã (–ø–æ ProjectID).

### 5.3. –í–∫–ª–∞–¥–∫–∞ **User Mapping**

–¶–µ–ª—å: —Å–≤—è–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Bugsnag —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ Mattermost.

UI:

* –ö–Ω–æ–ø–∫–∞ **Load Bugsnag users**:

  * —Ç—è–Ω–µ—Ç —Å–ø–∏—Å–æ–∫ Bugsnag-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–∫–æ–ª–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–æ–≤ (id, –∏–º—è, email).
* –¢–∞–±–ª–∏—Ü–∞:

  * Bugsnag Name
  * Bugsnag Email
  * Bugsnag User ID (–µ—Å–ª–∏ –µ—Å—Ç—å)
  * Mattermost User (dropdown: —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π MM)
  * –ê–≤—Ç–æ-–ø–æ–¥–±–æ—Ä MM-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email (pre-select, –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ä—É–∫–∞–º–∏).

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:

```go
type UserMapping struct {
    BugsnagUserID string // –∏–ª–∏ –ø—É—Å—Ç–æ, –µ—Å–ª–∏ –º—ç–ø–ø–∏–Ω–≥ —Ç–æ–ª—å–∫–æ –ø–æ email
    BugsnagEmail  string
    MMUserID      string
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

* –ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ –∫–∞—Ä—Ç–æ—á–∫–∏:

  * –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –Ω–∞ Bugsnag-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å email X ‚Üí –∏—â–µ–º –º—ç–ø–ø–∏–Ω–≥ ‚Üí –≤—ã–≤–æ–¥–∏–º `Assigned to @mm-user`.
* –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´Assign to me¬ª:

  * Mattermost user ‚Üí –µ–≥–æ email ‚Üí –ø–æ–∏—Å–∫ Bugsnag-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí API Bugsnag –¥–ª—è reassignment.

### 5.4. –í–∫–ª–∞–¥–∫–∞ **Notification Rules & Advanced**

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

* –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

  * Events window (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1h / 24h).
* –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ø–∞–π–∫–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

  * –ø—Ä–∏–º–µ—Ä: ¬´—Å—á–∏—Ç–∞—Ç—å —Å–ø–∞–π–∫–æ–º, –µ—Å–ª–∏ events –∑–∞ 10 –º–∏–Ω—É—Ç > X¬ª.
* Periodic sync interval:

  * –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤ –º–∏–Ω—É—Ç–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5/10/15).
* Security:

  * Secret token –¥–ª—è Webhook (–≤ query –∏–ª–∏ header).
* Logging:

  * –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ debug-–ª–æ–≥–æ–≤.

---

## 6. –®–∞–≥–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—á–µ–∫-–ª–∏—Å—Ç)

1. **–ë–∞–∑–æ–≤—ã–π –∫–∞—Ä–∫–∞—Å –ø–ª–∞–≥–∏–Ω–∞**

   * –°–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å `mattermost-plugin-starter-template`.
   * –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –ø–æ–¥ `mattermost-plugin-bugsnag`.
   * –û–±–Ω–æ–≤–∏—Ç—å manifest (Plugin ID, –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ä–æ—É—Ç—ã).

2. **Server plugin (Go)**

   * –û–ø–∏—Å–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `Configuration`.
   * –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:

     * `OnConfigurationChange` ‚Äî —á—Ç–µ–Ω–∏–µ/–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏;
     * —Ä–æ—É—Ç—ã `/webhook` –∏ `/actions`.
   * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è KV-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

3. **Bugsnag client**

   * –ú–æ–¥—É–ª—å —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:

     * `GetOrganizations()`
     * `GetProjects(orgID)`
     * `GetErrors(projectID, filters)`
     * `GetError(errorID)`
     * `GetUsers(orgID)` (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
     * `UpdateErrorStatus(errorID, status)`
     * `AssignError(errorID, assignee)`
   * –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö: Error, Project, User, Status –∏ —Ç.–ø.

4. **Webhook handler (`/webhook`)**

   * –ü—Ä–∏—ë–º –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ (token).
   * –ü–∞—Ä—Å payload‚Äô–∞ Bugsnag.
   * –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∫–∞–Ω–∞–ª–æ–≤ –ø–æ –º—ç–ø–ø–∏–Ω–≥—É.
   * –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –æ—à–∏–±–∫–∏.
   * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ KV: `errorID+projectID ‚Üí postID`.

5. **Actions handler (`/actions`)**

   * –†–∞–∑–±–æ—Ä –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π:

     * `context.action`, `context.error_id`, `context.project_id`.
   * –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ MM-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (`user_id`).
   * –ú–∞–ø–ø–∏–Ω–≥ Bugsnag ‚áÑ MM –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
   * –í—ã–∑–æ–≤ Bugsnag API (—Å—Ç–∞—Ç—É—Å, assignee).
   * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ —Ç—Ä–µ–¥.

6. **Scheduler (periodic sync)**

   * –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø–ª–∞–≥–∏–Ω–∞ –∑–∞–ø—É—Å–∫ goroutine —Å —Ç–∏–∫–µ—Ä–æ–º.
   * –†–∞–∑ –≤ N –º–∏–Ω—É—Ç:

     * —á—Ç–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ—à–∏–±–æ–∫;
     * –∑–∞–ø—Ä–æ—Å—ã –≤ Bugsnag API;
     * –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ —Ç—Ä–µ–¥–æ–≤.

7. **Webapp plugin (React) ‚Äî UI –Ω–∞—Å—Ç—Ä–æ–µ–∫**

   * –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∫–ª–∞–¥–∫–∏:

     * Connection;
     * Projects & Channels;
     * User Mapping;
     * Notification Rules & Advanced.
   * REST-—Ä—É—á–∫–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –º—ç–ø–ø–∏–Ω–≥–æ–≤.

8. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

   * –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ Bugsnag API, –Ω–µ–≤–µ—Ä–Ω—ã—Ö payload‚Äô–æ–≤, –æ—à–∏–±–æ–∫ Mattermost API.
   * Fallback-—Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ç—Ä–µ–¥ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

9. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è / README**

   * –û–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.
   * –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–±–æ—Ä–∫–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.
   * –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Bugsnag –∏ webhook‚Äô–æ–≤.
   * –ü—Ä–∏–º–µ—Ä—ã —Ç–∏–ø–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

## 7. –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ (–¥–ª—è –∞–¥–º–∏–Ω–∞)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –≤–∫–ª—é—á–∏—Ç—å –ø–ª–∞–≥–∏–Ω –≤ Mattermost.
2. –í System Console ‚Üí Plugins ‚Üí Bugsnag Integration:

   * –≤–≤–µ—Å—Ç–∏ Bugsnag API Token;
   * —É–∫–∞–∑–∞—Ç—å Organization ID (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ);
   * –Ω–∞–∂–∞—Ç—å **Test connection**.
3. –ù–∞ –≤–∫–ª–∞–¥–∫–µ **Projects & Channels**:

   * –Ω–∞–∂–∞—Ç—å **Sync projects from Bugsnag**;
   * –≤—ã–±—Ä–∞—Ç—å Team + Channel –¥–ª—è –Ω—É–∂–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤;
   * –∑–∞–¥–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ environment / severity / events;
   * —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.
4. –ù–∞ –≤–∫–ª–∞–¥–∫–µ **User Mapping**:

   * –Ω–∞–∂–∞—Ç—å **Load Bugsnag users**;
   * —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å Bugsnag-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ Mattermost;
   * —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.
5. –í Bugsnag (UI) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

   * Project Settings ‚Üí Integrations ‚Üí Webhook/Data forwarding;
   * –¥–æ–±–∞–≤–∏—Ç—å Webhook —Å URL –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–ª–∞–≥–∏–Ω–∞;
   * –≤—ã–±—Ä–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏.
6. –ü—Ä–æ–≤–µ—Ä–∫–∞:

   * —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –æ—à–∏–±–∫—É –≤ Bugsnag;
   * —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –∫–∞–Ω–∞–ª–µ Mattermost –ø–æ—è–≤–∏–ª–∞—Å—å –∫–∞—Ä—Ç–æ—á–∫–∞;
   * –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∫–Ω–æ–ø–æ–∫ (assign, resolve, ignore).
